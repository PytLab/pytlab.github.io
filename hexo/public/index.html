<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>PytLab</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Personal Blog of ShaoZhengjiang">
<meta property="og:type" content="website">
<meta property="og:title" content="PytLab">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="PytLab">
<meta property="og:description" content="Personal Blog of ShaoZhengjiang">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="PytLab">
<meta name="twitter:description" content="Personal Blog of ShaoZhengjiang">
  
    <link rel="alternative" href="/atom.xml" title="PytLab" type="application/atom+xml">
  
  
    <link rel="icon" href="/assets/images/favicon/icon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="/assets/images/avatar/Floe.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">PytLab</a></h1>
		</hgroup>

		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>菜单</li>
						<li>标签</li>
						
						<li>友情链接</li>
						
						
						<li>关于我</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="https://github.com/PytLab/" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="http://weibo.com/shaowugui " title="weibo">weibo</a>
					        
								<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/shao-zheng-jiang" title="zhihu">zhihu</a>
					        
								<a class="mail" target="_blank" href="mailto:shaozhengjiang@gmail.com" title="mail">mail</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/VASP/" style="font-size: 10px;">-VASP</a> <a href="/tags/C/" style="font-size: 20px;">C</a> <a href="/tags/Fortran/" style="font-size: 16.67px;">Fortran</a> <a href="/tags/GilbertStrang/" style="font-size: 10px;">GilbertStrang</a> <a href="/tags/Git/" style="font-size: 10px;">Git</a> <a href="/tags/GitHub/" style="font-size: 10px;">GitHub</a> <a href="/tags/LinearAlgebra/" style="font-size: 10px;">LinearAlgebra</a> <a href="/tags/Notes/" style="font-size: 10px;">Notes</a> <a href="/tags/VASP/" style="font-size: 10px;">VASP</a> <a href="/tags/catalysis/" style="font-size: 10px;">catalysis</a> <a href="/tags/chemistry/" style="font-size: 13.33px;">chemistry</a> <a href="/tags/ecust/" style="font-size: 10px;">ecust</a> <a href="/tags/kinetic-model/" style="font-size: 10px;">kinetic model</a> <a href="/tags/kinetics/" style="font-size: 10px;">kinetics</a> <a href="/tags/loggers/" style="font-size: 10px;">loggers</a> <a href="/tags/python/" style="font-size: 13.33px;">python</a> <a href="/tags/校园网/" style="font-size: 10px;">校园网</a> <a href="/tags/随笔/" style="font-size: 10px;">随笔</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://ipytlab.com">iPytLab.com</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">喜欢写代码的，希望能靠自己的代码发出文章来的，科狗一只 (ง •̀_•́)ง</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">PytLab</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="/assets/images/avatar/Floe.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">PytLab</h1>
			</hgroup>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/PytLab/" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="http://weibo.com/shaowugui " title="weibo">weibo</a>
			        
						<a class="zhihu" target="_blank" href="https://www.zhihu.com/people/shao-zheng-jiang" title="zhihu">zhihu</a>
			        
						<a class="mail" target="_blank" href="mailto:shaozhengjiang@gmail.com" title="mail">mail</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-我的博客新家" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/21/我的博客新家/" class="article-date">
  	<time datetime="2016-01-21T11:41:37.000Z" itemprop="datePublished">2016-01-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/21/我的博客新家/">我的博客新家</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>由于自己买的空间感觉不稳定也不靠谱，于是用<a href="https://github.com/hexojs/hexo" target="_blank" rel="external">Hexo</a>把博客迁到GitHub Pages来了，这是我的博客新家。等有空会把<a href="http://ipytlab.com" target="_blank" rel="external">ipytlab.com</a>上的文章迁移到这里来。<br>嘿嘿，先用不同语言打个招呼先，以后请多多关照ヽ(•̀ω•́ )ゝ<br>ps.很是喜欢用Markdown写博客啊，这代码块我也很是喜欢 (￣y▽￣)~*<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C </span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Hello Github Pages! -- zjshao\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// C plus plus</span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="built_in">std</span>::<span class="built_in">cout</span> &lt;&lt; <span class="string">"Hello Github Pages! -- zjshao"</span> &lt;&lt; <span class="built_in">std</span>::endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python</span></span><br><span class="line"><span class="keyword">print</span> <span class="string">"Hello Github Pages. -- zjshao"</span></span><br></pre></td></tr></table></figure>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">! FORTRAN</span></span><br><span class="line"><span class="function"><span class="keyword">PROGRAM</span></span> main</span><br><span class="line">  <span class="type">IMPLICIT</span> <span class="type">NONE</span></span><br><span class="line">  <span class="built_in">WRITE</span>(*, *) <span class="string">"Hello Github Pages, --zjshao"</span></span><br><span class="line"><span class="keyword">END</span> <span class="function"><span class="keyword">PROGRAM</span></span> main</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-华丽的昏割线" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/01/21/华丽的昏割线/" class="article-date">
  	<time datetime="2016-01-21T11:40:31.000Z" itemprop="datePublished">2016-01-21</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/01/21/华丽的昏割线/">华丽的昏割线</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="u2014_u2014_u2014_u2014_u2014_u2014_u2014_u2014_u2014__u534E_u4E3D_u7684_u660F_u5272_u7EBF__u2014_u2014_u2014_u2014_u2014_u2014_u2014_u2014_u2014_u2013"><a href="#u2014_u2014_u2014_u2014_u2014_u2014_u2014_u2014_u2014__u534E_u4E3D_u7684_u660F_u5272_u7EBF__u2014_u2014_u2014_u2014_u2014_u2014_u2014_u2014_u2014_u2013" class="headerlink" title="————————— 华丽的昏割线 —————————–"></a>————————— 华丽的昏割线 —————————–</h2><h4 id="u4EE5_u4E0B_u6587_u7AE0_u5747_u4E3A_u4ECE_u4EE5_u524Dwordpress_u8FC1_u79FB_u8FC7_u6765"><a href="#u4EE5_u4E0B_u6587_u7AE0_u5747_u4E3A_u4ECE_u4EE5_u524Dwordpress_u8FC1_u79FB_u8FC7_u6765" class="headerlink" title="以下文章均为从以前wordpress迁移过来"></a>以下文章均为从以前wordpress迁移过来</h4>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-开始看VASP源码" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/10/09/开始看VASP源码/" class="article-date">
  	<time datetime="2015-10-09T13:53:32.000Z" itemprop="datePublished">2015-10-09</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/10/09/开始看VASP源码/">开始看VASP源码</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近开始看VASP源码啦，心得什么的会写在这里，当然几十万行的VASP代码不可能全部都看，重点还是ionic relaxation的部分啦～come on！</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fortran/">Fortran</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VASP/">VASP</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/chemistry/">chemistry</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Fortran数组初始化总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/03/Fortran数组初始化总结/" class="article-date">
  	<time datetime="2015-09-03T07:13:08.000Z" itemprop="datePublished">2015-09-03</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/03/Fortran数组初始化总结/">Fortran数组初始化总结</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>fortran数组的初始化有些地方和C类似，有些地方由于Fortran有所谓隐含式循环数组初始化更加灵活。<br><strong>初始化为相同的值</strong></p>
<p>C:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> c[<span class="number">10</span>] = &#123;<span class="number">0</span>&#125;;  <span class="comment">/*这种方法只能全部初始化为0, 其他数字不行*/</span></span><br></pre></td></tr></table></figure></p>
<p>Fortran:<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">integer</span> :: f(<span class="number">10</span>) = <span class="number">0</span></span><br><span class="line"><span class="comment">!DATA</span></span><br><span class="line"><span class="type">INTEGER</span> :: F(<span class="number">10</span>)</span><br><span class="line"><span class="type">DATA</span> F /<span class="number">10</span>*<span class="number">0</span>/</span><br></pre></td></tr></table></figure></p>
<p><strong>全部初始化</strong></p>
<p>C:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> c[<span class="number">5</span>] = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br></pre></td></tr></table></figure></p>
<p>Fortran:<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">integer</span> :: f(<span class="number">5</span>) = (/ <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span> /)</span><br><span class="line"><span class="comment">!DATA</span></span><br><span class="line"><span class="type">INTEGER</span> :: F(<span class="number">5</span>)</span><br><span class="line"><span class="type">DATA</span> F /<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>/</span><br></pre></td></tr></table></figure></p>
<p>下面是fortran的特色了，<br>隐含式循环初始化</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">integer</span> :: f(<span class="number">5</span>) = (/ <span class="number">1</span>, (i, i=<span class="number">2</span>, <span class="number">4</span>), <span class="number">5</span> /)</span><br><span class="line"><span class="comment">!初始化二维数组</span></span><br><span class="line"><span class="type">integer</span> :: f(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"><span class="type">data</span> ((f(i, j), i=<span class="number">1</span>,<span class="number">2</span>), j=<span class="number">1</span>,<span class="number">2</span>) /<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>/</span><br></pre></td></tr></table></figure>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fortran/">Fortran</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-关于Fortran和C数组的优先模式" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/09/01/关于Fortran和C数组的优先模式/" class="article-date">
  	<time datetime="2015-09-01T01:34:59.000Z" itemprop="datePublished">2015-09-01</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/09/01/关于Fortran和C数组的优先模式/">关于Fortran和C数组的优先模式</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>熟悉了C语言和Python中的行优先模式，上手Fortran的列优先模式时候有点绕，大致在这整理下思路。<br>无论对于C或者Fortran数据对象在内存中都是连续排列的。比如我初始化一个3×3的二维数组.<br>C语言<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> c[<span class="number">3</span>][<span class="number">3</span>] = &#123;</span><br><span class="line">    &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>&#125;,</span><br><span class="line">    &#123;<span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>&#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>Fortran<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">integer</span> :: f(<span class="number">3</span>, <span class="number">3</span>)</span><br><span class="line"><span class="type">integer</span> :: r, c</span><br><span class="line"><span class="type">data</span> ((m(r, c), r=<span class="number">1</span>, <span class="number">3</span>), c=<span class="number">1</span>, <span class="number">3</span>) /(i, i=<span class="number">1</span>,<span class="number">9</span>)/ <span class="comment">! 注意我这里是按照列进行初始化的</span></span><br></pre></td></tr></table></figure></p>
<p>通过上面两种语言的初始化数组的方式，数据对象在内存中存放的方式都是<br><code>1|2|3|4|5|6|7|8|9</code><br>但是C和fortran对连续内存块进行随机存取时候的索引优先是不同的，C是按照行优先，也就是stride等于1，上述数据对象的分别为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c[0][0], c[0][1], c[0][2], c[1][0], c[1][1], c[1][2], c[2][0], c[2][1], c[2][2]</span><br></pre></td></tr></table></figure></p>
<p>Fortran是列优先, stride等于3，上述对象分别为:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f(1, 1), f(2, 1), f(3, 1), f(1, 2), f(2, 2), f(3, 2), f(1, 3), f(2, 3), f(3, 3)</span><br></pre></td></tr></table></figure></p>
<p>对于经常使用的话，我觉得直接按照线性代数里面最直观的列向量来处理就行，估计Fortran在设计的时候也是科学家们方便操作列向量才这么设计的。</p>
<p>Fortran数组输出时的注意,<br><code>write(*, *)</code> f进行输出时，是直接按照内存顺序输出的，也就是一列一列输出，但是看起来是一行一行的。<br>例如,</p>
<figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">program</span></span> ex0714</span><br><span class="line">    <span class="type">implicit</span> <span class="type">none</span></span><br><span class="line">    <span class="type">integer</span> :: i, j</span><br><span class="line">    <span class="type">integer</span>, <span class="type">parameter</span> :: <span class="built_in">size</span> = <span class="number">5</span></span><br><span class="line">    <span class="type">integer</span> :: m(<span class="built_in">size</span>, <span class="built_in">size</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">forall</span>(i = <span class="number">1</span>:<span class="built_in">size</span>, j = <span class="number">1</span>:<span class="built_in">size</span>, i &lt; j) m(i, j) = <span class="number">1</span></span><br><span class="line">    <span class="keyword">forall</span>(i = <span class="number">1</span>:<span class="built_in">size</span>, j = <span class="number">1</span>:<span class="built_in">size</span>, i == j) m(i, j) = <span class="number">2</span></span><br><span class="line">    <span class="keyword">forall</span>(i = <span class="number">1</span>:<span class="built_in">size</span>, j = <span class="number">1</span>:<span class="built_in">size</span>, i &gt; j) m(i, j) = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">write</span>(*, <span class="string">"(5(5I5, /))"</span>) m</span><br><span class="line">    <span class="keyword">stop</span></span><br><span class="line"><span class="keyword">end</span> <span class="function"><span class="keyword">program</span></span> ex0714</span><br></pre></td></tr></table></figure>
<p>输出就为</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2    3    3    3    3&#10;1    2    3    3    3&#10;1    1    2    3    3&#10;1    1    1    2    3&#10;1    1    1    1    2</span><br></pre></td></tr></table></figure>
<p>和我本意不同，所以要按照我的顺序输出就应该改一下输出顺序</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">write(*, &#34;(5(5I5, /))&#34;) ((m(i, j), j=1, size), i=1, size)</span><br></pre></td></tr></table></figure>
<p>输出：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">2    1    1    1    1&#10;3    2    1    1    1&#10;3    3    2    1    1&#10;3    3    3    2    1&#10;3    3    3    3    2</span><br></pre></td></tr></table></figure></p>
<p>以上</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Fortran/">Fortran</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-git-push的时候用ssh放弃https" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/29/git-push的时候用ssh放弃https/" class="article-date">
  	<time datetime="2015-08-29T01:23:35.000Z" itemprop="datePublished">2015-08-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/29/git-push的时候用ssh放弃https/">git push的时候用ssh放弃https</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>这几天改以前的代码，每次git push到github的时候总是提醒我输入我输入github的用户名和密码，很是麻烦。<br>于是找到了原因，之前我的代码是通过https clone到本地的，如果一开始是通过git ssh克隆就不会出现这种问题。如果已经通过https克隆，不用着急可以修改。</p>
<p>在你的版本库.git中打开config文件会有如下一段代码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[remote &#34;origin&#34;]  &#10;fetch = + refs/heads/*:refs/remotes/origin/*  &#10;url = https://username@github.com/username/projectname.git</span><br></pre></td></tr></table></figure></p>
<p>url改成相应的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[remote &#34;origin&#34;]  &#10;fetch = + refs/heads/*:refs/remotes/origin/*  &#10;url = git@github.com:username/projectname.git</span><br></pre></td></tr></table></figure></p>
<p>这样就可以通过ssh公钥的方式认证进行git push啦</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Git/">Git</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/GitHub/">GitHub</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-具有局部作用域的变量是否可以在作用域外使用" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/22/具有局部作用域的变量是否可以在作用域外使用/" class="article-date">
  	<time datetime="2015-08-22T12:03:10.000Z" itemprop="datePublished">2015-08-22</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/22/具有局部作用域的变量是否可以在作用域外使用/">具有局部作用域的变量是否可以在作用域外使用?</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>昨天在操作链表的时候看到书上写了一段释放链表内存的代码，感觉奇奇怪怪的。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">current = head;</span><br><span class="line"><span class="keyword">while</span>(current != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">free</span>(current);</span><br><span class="line">    current = current-&gt;next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>上面的代码就是在释放了current指向的内存之后仍然使用了该内存的数据。感觉好奇怪，不知道是作者的原因还是什么。<br>应该这样写才对：<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">current = head;</span><br><span class="line"><span class="keyword">while</span>(current != <span class="literal">NULL</span>)</span><br><span class="line">&#123;</span><br><span class="line">    tmp = current-&gt;next;</span><br><span class="line">    <span class="built_in">free</span>(current);</span><br><span class="line">    current = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>不然<code>free()</code>可能使当前节点的内容不再可用。<br>后面我在stackoverflow上看到一个<a href="http://stackoverflow.com/questions/6441218/can-a-local-variables-memory-be-accessed-outside-its-scope/6445794#6445794" target="_blank" rel="external">回答</a>，比喻的很好：</p>
<blockquote>
<p>你在某个酒店订了一个房，你入住的时候，你放了一本书在这个酒店的抽屉里，但是你走的时候，你忘了这本书。而且，你还没有把这个房间的钥匙还回去。于是，你在未来某个时候，偷偷地回来，打开这个房间的门，你看到了你的书还在里间。当然，还还可以放回别的书。因为，这个酒店管理不会在你走的时候把你留下的书清走，而且，这个酒店的管理的安保措施不是那么严格，因为他信任每一个客人都会遵守管理条例。</p>
<p>在这种情况下，如果你幸运的话，书还会在那里，也可能你的书已经没了。也有可能当你回去的时候，有一个人在那里正在撕你的书，或者酒店把那个抽屉都挪走并变成衣柜，或是整个酒店正在被拆除以改成了一个足球场，而你偷偷摸摸进到施工现场的时候被炸死。<br>也就是说即使我释放了当前指针指向的内存，我也可以通过同样的指针访问该部分内容，但是内容就没有保障了，所谓some random memory area。这就好像我和系统之间的一个协议，我不会偷着回来我的房间，但是我的确偷偷的这么做了，也就是没有履行协议。<br>后面有个高票的回答也很好：</p>
<p>What you’re doing here is simply reading and writing to memory that used to be the address of a. Now that you’re outside of foo, it’s just a pointer to some random memory area. It just so happens that in your example, that memory area does exist and nothing else is using it at the moment. You don’t break anything by continuing to use it, and nothing else has overwritten it yet. Therefore, the 5 is still there. In a real program, that memory would be re-used almost immediately and you’d break something by doing this (though the symptoms may not appear until much later!)</p>
<p>When you return from foo, you tell the OS that you’re no longer using that memory and it can be reassigned to something else. If you’re lucky and it never does get reassigned, and the OS doesn’t catch you using it again, then you’ll get away with the lie. Chances are though you’ll end up writing over whatever else ends up with that address.</p>
<p>Now if you’re wondering why the compiler doesn’t complain, it’s probably because foo got eliminated by optimization. It usually will warn you about this sort of thing. C assumes you know what you’re doing though, and technically you haven’t violated scope here (there’s no reference to a itself outside of foo), only memory access rules, which only triggers a warning rather than an error.</p>
<p><strong>In short: this won’t usually work, but sometimes will by chance.</strong></p>
</blockquote>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-C-NOTE--数组初始化总结" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/17/C-NOTE--数组初始化总结/" class="article-date">
  	<time datetime="2015-08-17T02:44:19.000Z" itemprop="datePublished">2015-08-17</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/17/C-NOTE--数组初始化总结/">C NOTE -- 数组初始化总结</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天给结构数组初始化的时候发现也能指定初始化项目列表。于是试了试int数组也可以，在这里把这几种常用的数组初始化方法总结下。<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">putarr</span><span class="params">(<span class="keyword">int</span> *)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">(<span class="keyword">void</span>)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">/*不同方法初始化*/</span></span><br><span class="line">    <span class="keyword">int</span> a[] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;;</span><br><span class="line">    putarr(a);</span><br><span class="line">    <span class="keyword">int</span> b[<span class="number">5</span>] = &#123;<span class="number">2</span>&#125;;</span><br><span class="line">    putarr(b);</span><br><span class="line">    <span class="keyword">int</span> c[<span class="number">5</span>] = &#123; [<span class="number">2</span>] = <span class="number">2</span> &#125;; <span class="comment">/*指定初始化项目*/</span></span><br><span class="line">    putarr(c);</span><br><span class="line">    <span class="keyword">int</span> d[<span class="number">5</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>&#125;;</span><br><span class="line">    putarr(d);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">putarr</span><span class="params">(<span class="keyword">int</span> * arr)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i;</span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, arr[i]);</span><br><span class="line">    <span class="built_in">putchar</span>(<span class="string">'\n'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>输出：</p>
<pre>
0 1 2 3 4
2 0 0 0 0
0 0 2 0 0
0 1 2 0 0
</pre>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-关于逻辑运算符" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/14/关于逻辑运算符/" class="article-date">
  	<time datetime="2015-08-14T05:29:45.000Z" itemprop="datePublished">2015-08-14</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/14/关于逻辑运算符/">C NOTE - 关于逻辑运算符</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>昨天写了个c语言处理文件的练习题，题目是：</p>
<blockquote>
<p>编写一个代开两个文件的程序。可以使用命令行参数或者请求用户输入来获取文件名。让程序打印第一个文件的第一行，第二个文件的第二行，第一个文件第一行，第二个文件第二行。。。以此类推，知道打印完行数较多的文件的最后一行。</p>
</blockquote>
<p>程序很短很好写，但是在写程序的过程中我是通过逻辑或来判断是否两个文件都读完。<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(fgets(line1, SLEN, fp1) != <span class="literal">NULL</span> || fgets(line2, SLEN, fp2) != <span class="literal">NULL</span>)</span><br><span class="line">&#123;...&#125;</span><br></pre></td></tr></table></figure></p>
<p>可是这样输出的结果是先打印了第一个文件的所有行然后是第二个文件的所有行。<br>后来想了想，之所以出现这样的结果，有可能是逻辑运算符如果第一个条件满足后就不会运算<code>||</code>后面的表达式了。<br>于是我把代码改成如下:<br><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">pt1 = fgets(line1, SLEN, fp1);</span><br><span class="line">pt2 = fgets(line2, SLEN, fp2);</span><br><span class="line"><span class="keyword">while</span>(pt1 || pt2)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">fputs</span>(line1, <span class="built_in">stdout</span>);</span><br><span class="line">    <span class="built_in">fputs</span>(line2, <span class="built_in">stdout</span>);</span><br><span class="line">    pt1 = fgets(line1, SLEN, fp1);</span><br><span class="line">    pt2 = fgets(line2, SLEN, fp2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>果然是猜测的原因，以后用或运算符的时候要注意这里了。<br>以上。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Notes/">Notes</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-VASPy一个面向对象的VASP文件处理库" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2015/08/12/VASPy一个面向对象的VASP文件处理库/" class="article-date">
  	<time datetime="2015-08-11T16:00:00.000Z" itemprop="datePublished">2015-08-12</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/08/12/VASPy一个面向对象的VASP文件处理库/">VASPy一个面向对象的VASP文件处理库</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>放假在家可以写写以前的想法，把vasp中的文件写成python对象，这样既系统有方便写脚本。就在github上开了个repo，目前写了几个文件的class,其中包含处理MaterialStudio的xsd类xml文件的类。不断更新,欢迎使用vasp的小伙伴们star,fork贡献出自己的一份力。<br>库链接：<a href="https://github.com/PytLab/VASPy" target="_blank" rel="external"><ins datetime="2015-08-12T06:17:43+00:00">Processing VASP files with Python - VASPy</ins></a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/VASP/">-VASP</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 PytLab
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: true
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js" type="text/javascript"></script>
<script src="/js/main.js" type="text/javascript"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</body>
</html>